---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "archestra_profile_tool Resource - archestra"
subcategory: ""
description: |-
  Assigns a tool to an Archestra Profile (Agent) and configures its execution and security policies.
---

# archestra_profile_tool (Resource)

Assigns a tool to an Archestra Profile (Agent) and configures its execution and security policies.

## Example Usage

```terraform
# Reference an existing profile
data "archestra_profile" "default" {
  name = "Default Agent"
}

# Reference a tool from the MCP registry
data "archestra_mcp_server_tool" "github_create_issue" {
  mcp_server_id = archestra_mcp_server.github.id
  name          = "create_issue"
}

# Assign the tool to the profile with credentials
resource "archestra_profile_tool" "github_create_issue" {
  profile_id = data.archestra_profile.default.id
  tool_id    = data.archestra_mcp_server_tool.github_create_issue.id

  # Link to the server that holds the credentials
  credential_source_mcp_server_id = archestra_mcp_server.github.id

  # Security Configuration
  tool_result_treatment = "trusted"
  allow_usage_when_untrusted_data_is_present = true
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `profile_id` (String) The ID of the Profile (Agent) to assign the tool to
- `tool_id` (String) The ID of the Tool to assign

### Optional

- `allow_usage_when_untrusted_data_is_present` (Boolean) Whether to allow tool usage when untrusted data is present
- `credential_source_mcp_server_id` (String) The ID of the MCP Server instance to use for credentials/authentication
- `execution_source_mcp_server_id` (String) The ID of the MCP Server instance to use for execution
- `response_modifier_template` (String) Template string to modify the tool response before it reaches the model
- `tool_result_treatment` (String) How to treat tool results (trusted, sanitize_with_dual_llm, untrusted)
- `use_dynamic_team_credential` (Boolean) If true, dynamically resolves credentials based on the team context at runtime

### Read-Only

- `id` (String) The unique identifier of the agent-tool assignment (Composite ID: agent_id:tool_id)

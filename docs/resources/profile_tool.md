---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "archestra_profile_tool Resource - archestra"
subcategory: ""
description: |-
  Assigns a tool to an Archestra Profile (Agent) and configures its execution and security policies.
---

# archestra_profile_tool (Resource)

Assigns a tool to an Archestra Profile (Agent) and configures its execution and security policies.

## Example Usage

```terraform
# 1. Create an Agent (Profile)
resource "archestra_agent" "demo_agent" {
  name = "Demo Agent"
}

# 2. Look up the 'whoami' tool
data "archestra_agent_tool" "whoami" {
  tool_name = "archestra__whoami"
  agent_id  = archestra_agent.demo_agent.id
}

# 3. Assign the Tool to the Profile
resource "archestra_profile_tool" "demo_assignment" {
  profile_id = archestra_agent.demo_agent.id
  tool_id    = data.archestra_agent_tool.whoami.tool_id

  # Configuration Options
  tool_result_treatment                      = "trusted"
  allow_usage_when_untrusted_data_is_present = true

  # Note: dynamic team credentials can be toggled
  use_dynamic_team_credential = false

  response_modifier_template = "This is a modified response: {{.Result}}"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `profile_id` (String) The ID of the Profile (Agent) to assign the tool to
- `tool_id` (String) The ID of the Tool to assign

### Optional

- `allow_usage_when_untrusted_data_is_present` (Boolean) Whether to allow tool usage when untrusted data is present
- `credential_source_mcp_server_id` (String) The ID of the MCP Server instance to use for credentials/authentication
- `execution_source_mcp_server_id` (String) The ID of the MCP Server instance to use for execution
- `response_modifier_template` (String) Template string to modify the tool response before it reaches the model
- `tool_result_treatment` (String) How to treat tool results (trusted, sanitize_with_dual_llm, untrusted)
- `use_dynamic_team_credential` (Boolean) If true, dynamically resolves credentials based on the team context at runtime

### Read-Only

- `id` (String) The unique identifier of the profile-tool assignment (Composite ID: profile_id:tool_id)
